System.register(["./define-legacy.354b0b1c.js","./events-legacy.37a86182.js","./config-legacy.967760ef.js"],(function(e,t){"use strict";var s,n;return{setters:[e=>{s=e.d},e=>{n=e.g},()=>{}],execute:function(){const t=e=>String(e).replace(/[^\w. ]/gi,(e=>`&#${e.charCodeAt(0)};`)),i=s("result",class extends HTMLLIElement{constructor(){super(),this.classList.add("result"),this.__setup()}__setup(){this.innerHTML=(({data:e})=>`\n  <a href='${e.url}'>\n    <p class='link'>${e.url}</p>\n    <p class='title'>${e.title}</p>\n    <p class='extract'>${e.extract}</p>\n  </a>\n`)({data:{url:this.dataset.url,title:this.__handleBold(JSON.parse(this.dataset.title)),extract:this.__handleBold(JSON.parse(this.dataset.extract))}}),this.__events()}__events(){this.addEventListener("keydown",(e=>{if(this.firstElementChild===document.activeElement&&("ArrowDown"===e.key&&(e.preventDefault(),this?.nextElementSibling?.firstElementChild.focus()),"ArrowUp"===e.key))if(e.preventDefault(),this.previousElementSibling)this.previousElementSibling?.firstElementChild.focus();else{const e=new CustomEvent("focus-search");n.dispatch(e)}}))}__handleBold(e){let s="";for(const n of e)n.is_bold?s+=`<strong>${t(n.value)}</strong>`:s+=t(n.value);return s}},{extends:"li"}),l=s("empty-result",class extends HTMLLIElement{constructor(){super(),this.classList.add("empty-result"),this.__setup()}__setup(){this.innerHTML="\n  <p>We could not find anything for your search...</p>\n"}},{extends:"li"}),r=s("home",class extends HTMLLIElement{constructor(){super(),this.classList.add("home"),this.__setup()}__setup(){this.innerHTML="\n  <h1>\n    Welcome to mwmbl, the free, open-source and non-profit search engine.\n  </h1>\n  <p>\n    You can start searching by using the search bar above!\n  </p>\n"}},{extends:"li"});e("default",s("results",class extends HTMLElement{constructor(){super(),this.results=null,this.__setup()}__setup(){this.innerHTML=`\n  <ul class='results'>\n    <li is='${r}'></li>\n  </ul>\n`,this.results=this.querySelector(".results"),this.__events()}__events(){n.on("search",(e=>{this.results.innerHTML="";let s="";if(e.detail.error)s=`\n          <li is='${l}'></li>\n        `;else if(e.detail.results)if(e.detail.results.length>0)for(const n of e.detail.results)s+=`\n              <li\n                is='${i}' \n                data-url='${t(n.url)}'\n                data-title='${t(JSON.stringify(n.title))}'\n                data-extract='${t(JSON.stringify(n.extract))}'\n              ></li>\n            `;else s=`\n            <li is='${l}'></li>\n          `;else s=`\n            <li is='${r}'></li>\n          `;this.results.innerHTML=s})),n.on("focus-result",(()=>{this.results.firstElementChild.firstElementChild.focus()}))}}))}}}));
